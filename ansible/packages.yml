---
- hosts: localhost

  tasks:
  - name: Ensure the list of dependencies is fulfilled
    ansible.builtin.pacman:
      name:
        - emacs-nox
        - firewalld
        - libpam-google-authenticator
        - nyx
        - proxychains-ng
        - qrencode
        - tmux
        - tor
        - torsocks
        - znc
        - znc-clientbuffer
      state: present
  - name: Ensure the Reflector configuration is in place
    ansible.builtin.copy:
      src: files/reflector.conf
      dest: /etc/xdg/reflector/reflector.conf
      owner: root
      group: root
      mode: '0644'
  - name: Ensure the Reflector service  is started and enabled
    ansible.builtin.systemd:
      name: reflector
      enabled: true
